<!DOCTYPE html>
<head>
<style>
  body {
    display: flex;
    flex-direction: row;
    gap: 18px;
  }

  #left {
    display: flex; 
    flex-direction: column; 
    max-width: 50vw;
  }

  #fieldsets {
    width: 50vw;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  }

  #map-text {
    width: 50vw;
    height: 300px;
    font-size: 20px;
  }

  .field input[type="text"] {
    margin-left: 18px;
  }

  fieldset {
  }
</style>
</head>

<body>

<!-- Area of Editing -->
<div id="left">
  <div>
    <label for="story">Use YAML to create a map:</label>
    <input type="button" value="Refresh" onclick="refreshMap()">
    <div>
      <input class="auto-refresh" type="checkbox" checked/>
      <label>Auto Refresh</label>
    </div>
  </div>
  <textarea id="map-text" rows="15" cols="50">
preset: ./preset.yml
width: 50vw
height: 80vh
  </textarea>
  <div id="fieldsets"> 
  <fieldset>
      <legend>use</legend>
      <p>Use which renderer?</p>
      <div class="field" data-value="openlayers">
        <input type="radio" name="use"/>
        <label>openlayers</label>
      </div>
      <div class="field" data-value="maplibre">
        <input type="radio" name="use"/>
        <label>maplibre</label>
      </div>
      <div class="field" data-value="leaflet">
        <input type="radio" name="use"/>
        <label>leaflet</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="use" />
        <label>Clear</label>
      </div>
    </fieldset>
  <fieldset>
      <legend>width</legend>
      <p>Width of map container</p>
      <div class="field" data-value="500px">
        <input type="radio" name="width"/>
        <label>500px</label>
      </div>
      <div class="field" data-value="700px">
        <input type="radio" name="width"/>
        <label>700px</label>
      </div>
      <div class="field" data-value="50vw">
        <input type="radio" name="width"/>
        <label>50vw</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="width" />
        <label>Custom</label>
        <input type="text">
      </div>
    </fieldset>
    <fieldset>
      <legend>height</legend>
      <p>Height of map container</p>
      <div class="field" data-value="500px">
        <input type="radio" name="height"/>
        <label>500px</label>
      </div>
      <div class="field" data-value="700px">
        <input type="radio" name="height"/>
        <label>700px</label>
      </div>
      <div class="field" data-value="50vh">
        <input type="radio" name="height"/>
        <label>50vh</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="height" />
        <label>Custom</label>
        <input type="text">
      </div>
    </fieldset>
    <fieldset data-type="array">
      <legend>center</legend>
      <p>Center of map, format is [Longitude, Latitude]</p>
      <div class="field" data-value="[121,24]">
        <input type="radio" name="center"/>
        <label>Taiwan</label>
      </div>
      <div class="field" data-value="[138,36]">
        <input type="radio" name="center"/>
        <label>Japan</label>
      </div>
      <div class="field" data-value="[38.00604,48.60574]">
        <input type="radio" name="center"/>
        <label>Bakhmut</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="center" />
        <label>Custom</label>
        <input type="text">
      </div>
    </fieldset>
    <fieldset data-type="number">
      <legend>zoom</legend>
      <p>Zoom level of map</p>
      <div class="field" data-value="5">
        <input type="radio" name="zoom"/>
        <label>5</label>
      </div>
      <div class="field" data-value="8">
        <input type="radio" name="zoom"/>
        <label>8</label>
      </div>
      <div class="field" data-value="12">
        <input type="radio" name="zoom"/>
        <label>12</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="zoom" />
        <label>Custom</label>
        <input type="text">
      </div>
    </fieldset>
    <fieldset>
      <legend>XYZ</legend>
      <p>Template of slippy Tile Service</p>
      <div class="field" data-value="http://b.tile.openstreetmap.org/{z}/{x}/{y}.png">
        <input type="radio" name="XYZ"/>
        <label>OSM Carto</label>
      </div>
      <div class="field" data-value="https://a.tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=a5dd6a2f1c934394bce6b0fb077203eb">
        <input type="radio" name="XYZ"/>
        <label>OpenCycleMap</label>
      </div>
      <div class="field" data-value="https://tile.happyman.idv.tw/map/moi_osm/{z}/{x}/{y}.png">
        <input type="radio" name="XYZ"/>
        <label>Rudymap</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="XYZ" />
        <label>Custom</label>
        <input type="text">
      </div>
    </fieldset>
    <fieldset data-type="boolean">
      <legend>control.fullscreen</legend>
      <p>Fullscreen button</p>
      <div class="field" data-value="true">
        <input type="radio" name="control.fullscreen"/>
        <label>True</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="control.fullscreen" />
        <label>Clear</label>
      </div>
    </fieldset>
    <fieldset data-type="boolean">
      <legend>control.scale</legend>
      <p>Scale Bar</p>
      <div class="field" data-value="true">
        <input type="radio" name="control.scale"/>
        <label>True</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="control.scale" />
        <label>Clear</label>
      </div>
    </fieldset>
    <fieldset data-type="boolean">
      <legend>debug</legend>
      <p>Show boundary and index of each tile</p>
      <div class="field" data-value="true">
        <input type="radio" name="debug"/>
        <label>True</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="debug" />
        <label>Clear</label>
      </div>
    </fieldset>
    <fieldset data-type="boolean">
      <legend>link</legend>
      <p>Use permalink for map location</p>
      <div class="field" data-value="true">
        <input type="radio" name="link"/>
        <label>True</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="link" />
        <label>Clear</label>
      </div>
    </fieldset>
    <fieldset>
      <legend>STYLE</legend>
      <p>URL of Mapbox Style file</p> 
      <div class="field" data-value="https://demotiles.maplibre.org/style.json">
        <input type="radio" name="STYLE"/>
        <label>Maplibre demotiles</label>
      </div>
      <div class="field" data-value="mapbox://styles/mapbox/bright-v9">
        <input type="radio" name="STYLE"/>
        <label>Mapbox bright-v9</label>
      </div>
      <div class="field" data-value="https://api.maptiler.com/maps/topo-v2/style.json?key=KHspARDib3W1sNPt69qH">
        <input type="radio" name="STYLE"/>
        <label>Maptiler topo-v2</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="STYLE" />
        <label>Custom</label>
        <input type="text">
      </div>
    </fieldset>
    <fieldset>
      <legend>GPX</legend>
      <p>URL of GPX file</p>
      <div class="field" data-value="./run.gpx">
        <input type="radio" name="GPX"/>
        <label>Test file from Mapbox glossary</label>
      </div>
      <div class="field" data-value="">
        <input type="radio" name="GPX"/>
        <label>Custom</label>
        <input type="text">
      </div>
    </fieldset>
  </div>
</div>

<!-- Area of Rendered Map -->
<div id="map"></div>
<script 
  type="module" 
  src="./js/mapclay.js"
  data-from="#map-text"
  data-to="#map">
</script>
<script 
  type="module" 
  src="input.js">
</script>

</body>
